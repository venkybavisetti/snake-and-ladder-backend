(this.webpackJsonpsnake_and_ladder=this.webpackJsonpsnake_and_ladder||[]).push([[0],{82:function(e,t,a){},83:function(e,t,a){},94:function(e,t,a){"use strict";a.r(t);var r=a(0),n=a.n(r),c=a(10),s=a.n(c),i=(a(82),a(83),a(27)),l=a(12),o=a(9),d=a(39),j=a(132),u=a.p+"static/media/blue-player.de8eb60e.png",b=a.p+"static/media/green-player.6a26f254.png",h=a.p+"static/media/pink-player.fa360d51.png",p=a.p+"static/media/red-player.077d7622.png",O=a.p+"static/media/yellow-player.17512bfc.png",m=a(123),y=a(66),f=a.n(y),v=a(2),x=Object(m.a)((function(e){return{arrow:{color:e.palette.common.black},tooltip:{backgroundColor:e.palette.common.black}}}));function g(e){var t=x();return Object(v.jsx)(j.a,Object(d.a)(Object(d.a)({arrow:!0,classes:t},e),{},{className:"pointer"}))}var N={1:u,2:b,3:h,4:p,5:O},P=n.a.forwardRef((function(e,t){var a=e.height,r=e.player,n=r.playerNum,c=r.hue,s=e.isCurrentPlayer;return Object(v.jsxs)("span",{style:{display:"flex",justifyContent:"center"},children:[s&&Object(v.jsx)(f.a,{className:"fa"}),Object(v.jsx)("img",Object(d.a)(Object(d.a)({ref:t},e),{},{src:N[n],alt:"player",style:{height:a,filter:"hue-rotate(".concat(c,"deg)")}}))]})})),I=function(e){for(var t=e.value,a=e.currentPlayerId,r=[],n=0;n<t.length;n++)r.push(Object(v.jsx)(g,{title:t[n].name,placement:"top",arrow:!0,children:Object(v.jsx)(P,{height:70/Math.ceil(t.length/2),player:t[n].player,isCurrentPlayer:a===t[n].playerId})},n));return Object(v.jsx)("div",{className:"square pure-u-1-6",children:Object(v.jsx)("div",{className:"players",children:r})})},C=function(e){for(var t=e.id,a=e.cellArray,r=e.currentPlayerId,n=[],c=0;c<a.length;c++)n.push(Object(v.jsx)(I,{value:a[c],currentPlayerId:r},c));return Object(v.jsx)("div",{className:t%2===1?"row-reverse":"",children:n})},S=function(e){for(var t=e.table,a=e.currentPlayerId,r=[],n=0;n<t.length;n++)r.push(Object(v.jsx)(C,{cellArray:t[n],id:n,currentPlayerId:a},n));return Object(v.jsx)("div",{className:"table",children:Object(v.jsx)("div",{className:"board",children:r})})},w=a(68),k=a.n(w),R=a(67),H=a.n(R),E=function(e){var t=e.playerData,a=e.currentPlayer,n=e.isHost,c=e.hostId,s=e.handlePlayerRemove,i=e.handleChangeHost,l=Object(r.useState)(!1),d=Object(o.a)(l,2),j=d[0],u=d[1];return Object(v.jsxs)("div",{className:"player ".concat(t.playerId===a?"activePlayer":""," ").concat(n&&c!==t.playerId&&j?"player-hover":""),onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)},children:[n&&j&&c!==t.playerId&&Object(v.jsxs)("div",{className:"host-controls",children:[Object(v.jsx)(g,{title:"Change Host",placement:"top",arrow:!0,children:Object(v.jsx)(H.a,{className:"change-host",onClick:function(){return i(t.playerId)}})}),Object(v.jsx)(g,{title:"Remove Player",placement:"top",arrow:!0,children:Object(v.jsx)(k.a,{className:"remove-player",onClick:function(){return s(t.playerId)}})})]}),Object(v.jsx)(P,{height:35,player:t.player}),Object(v.jsx)("div",{children:t.name})]})},F=function(e){var t=e.header,a=e.players,r=e.currentPlayer,n=e.isHost,c=e.hostId,s=e.handlePlayerRemove,i=e.handleChangeHost;return Object(v.jsxs)("div",{className:"player-list-container",children:[Object(v.jsx)("h3",{children:t}),a.map((function(e,t){return Object(v.jsx)(E,{playerData:e,currentPlayer:r,isHost:n,hostId:c,handlePlayerRemove:s,handleChangeHost:i},t)}))]})},D=a(69),G=a.n(D),J=(a(91),function(e){var t=e.diceValue,a=e.disable,n=e.handleRoll,c=Object(r.useState)(!0),s=Object(o.a)(c,2),i=s[0],l=s[1];return Object(r.useEffect)((function(){l(a)}),[a]),Object(v.jsxs)("div",{className:"dices",children:[Object(v.jsx)("div",{className:"dice-board",children:t}),Object(v.jsx)("div",{className:a?"disable-dice":"active-dice",onClick:function(){return l(!0)},children:Object(v.jsx)(G.a,{numDice:1,rollDone:n,defaultRoll:6,disableIndividual:i,rollTime:1.5})})]})}),T=function(e,t){return new Promise((function(a,r){fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){var t=e.json();403!==e.status?a(t):r(t)}))}))},A=function(e){return new Promise((function(t,a){return fetch(e).then((function(e){var r=e.json();403!==e.status?t(r):a(r)}))}))},L=function(e){switch(e.type){case"create-room":return T("/api/createRoom",{});case"join-room":return T("/api/joinRoom",e.data);case"join":return T("/api/join",e.data);case"start":return T("/api/start",{});case"dice":return T("/api/dice",e.data);case"change-host":return T("/api/changeHost",e.data);case"remove-player":return T("/api/removePlayer",e.data);case"roomId":return A("/api/roomId");case"player-colors":return A("/api/playerColors");case"board-data":return A("/api/boardData");default:return new Promise((function(e,t){return t()}))}},M=a(129),_=a(130);function W(){return{top:"".concat(30,"%"),left:"".concat(36,"%"),transform:"translate(-".concat(10,"%, -",10,"%)")}}var q=Object(m.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function B(e){var t=e.popup,a=e.handleStart,r=e.isHost,c=e.isGameCompleted,s=q(),i=n.a.useState(W),d=Object(o.a)(i,1)[0],j=Object(l.f)(),u=Object(v.jsx)("div",{style:d,className:s.paper,children:c?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h2",{id:"simple-modal-title",children:"Play Another Game"}),Object(v.jsx)(M.a,{variant:"outlined",color:"primary",onClick:function(){j.push("/")},children:"Play"})]}):r?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h2",{id:"simple-modal-title",children:"Let's start the Game"}),Object(v.jsx)(M.a,{variant:"outlined",color:"primary",onClick:a,children:"Start"})]}):Object(v.jsx)("h2",{id:"simple-modal-title",children:"Waiting for the host to start the Game"})});return Object(v.jsx)(_.a,{open:t||c,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:u})}var V=function(e){for(var t=[],a=0;a<e;a++){t[a]=[];for(var r=0;r<e;r++)t[a][r]=[]}return t},z=function(){var e=Object(r.useState)(V(10)),t=Object(o.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),s=Object(o.a)(c,2),i=s[0],d=s[1],j=Object(r.useState)(!0),u=Object(o.a)(j,2),b=u[0],h=u[1],p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=Object(r.useState)({}),n=Object(o.a)(a,2),c=n[0],s=n[1],i=Object(l.f)();return Object(r.useEffect)((function(){L(e).then(s).catch((function(){return i.push("/")}));var a=setInterval((function(){return L(e).then(s)}),1e3*t);return function(){clearInterval(a)}}),[t]),c}({type:"board-data"},4),O=Object(r.useState)([]),m=Object(o.a)(O,2),y=m[0],f=m[1],x=Object(r.useState)([]),N=Object(o.a)(x,2),I=N[0],C=N[1],w=Object(r.useState)([]),k=Object(o.a)(w,2),R=k[0],H=k[1],E=Object(r.useState)(!1),D=Object(o.a)(E,2),G=D[0],T=D[1],A=Object(r.useState)({}),M=Object(o.a)(A,2),_=M[0],W=M[1],q=Object(r.useState)({}),z=Object(o.a)(q,2),K=z[0],Q=z[1];Object(r.useEffect)((function(){W(p)}),[p]),Object(r.useEffect)((function(){if(_.players){T(_.turn),d(_.isHost),h("start"===_.gameStatus);var e=_.players.filter((function(e){return 100!==e.playerPosition})),t=_.winners.map((function(e){return _.players[e]})),a=_.players.filter((function(e){return 0===e.playerPosition}));H(a),f(e),Q(_.currentPlayer.playerId),C(t),setTimeout((function(){U(_.players)}),1e3)}}),[_]);var U=function(e){for(var t=V(10),a=0;a<e.length;a++){var r=("0"+(e[a].playerPosition-1)).slice(-2),c=Object(o.a)(r,2),s=c[0],i=c[1];0!==e[a].playerPosition&&t[+s][+i].push(e[a])}n(t)},X=function(e){T(!1),d(!1),L({type:"remove-player",data:{removePlayerId:e}}).then(W)},Y=function(e){T(!1),d(!1),console.log(e),L({type:"change-host",data:{changeHost:e}}).then(W)};return Object(v.jsxs)("div",{className:"board-page",children:[Object(v.jsxs)("div",{className:"board-page-status",children:[_.currentPlayer&&_.currentPlayer.name||"player",Object(v.jsx)("span",{children:"'s turn"})]}),Object(v.jsxs)("div",{className:"dash-board",children:[Object(v.jsx)(F,{header:"Participants",players:y,currentPlayer:K,isHost:i,hostId:_.hostId,handlePlayerRemove:X,handleChangeHost:Y}),Object(v.jsxs)("div",{className:"page",children:[Object(v.jsx)("div",{className:"player-wallet",children:Object(v.jsx)("div",{className:"player-wallet-box",children:R.map((function(e,t){return Object(v.jsx)("div",{style:{height:R.length<9?74:280/Math.ceil(R.length/2),width:74},className:"square pure-u-1-6",children:Object(v.jsx)("div",{className:"players",children:Object(v.jsx)(g,{title:e.name,placement:"top",arrow:!0,children:Object(v.jsx)(P,{height:70,player:e.player,isCurrentPlayer:K===e.playerId})})})},t)}))})}),Object(v.jsx)(S,{table:a,currentPlayerId:K})]}),Object(v.jsx)(F,{header:"Winners",players:I,isHost:i,hostId:_.hostId,handlePlayerRemove:X,handleChangeHost:Y})]}),Object(v.jsx)(J,{diceValue:_.dice||6,handleRoll:function(e){T(!1),L({type:"dice",data:{dice:e}}).then(W)},disable:!G}),Object(v.jsx)(B,{popup:b,handleStart:function(){_.players.length>1&&(h(!1),L({type:"start"}).then(W))},isHost:i,isGameCompleted:"completed"===_.gameStatus})]})},K=a(128),Q=function(){var e=Object(r.useState)(""),t=Object(o.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),s=Object(o.a)(c,2),i=s[0],d=s[1],j=Object(r.useState)([]),u=Object(o.a)(j,2),b=u[0],h=u[1],p=Object(r.useState)(void 0),O=Object(o.a)(p,2),m=O[0],y=O[1],f=Object(r.useState)(!1),x=Object(o.a)(f,2),g=x[0],N=x[1],I=Object(l.f)();Object(r.useEffect)((function(){L({type:"roomId"}).then((function(e){return d(e.roomId)})),L({type:"player-colors"}).then(h)}),[]);return Object(v.jsx)("div",{className:"loginPage",children:Object(v.jsxs)("div",{className:"player-info",children:[Object(v.jsxs)("h1",{style:{textAlign:"center"},children:["Room Id:",i]}),Object(v.jsxs)("div",{className:"board-status",children:[Object(v.jsx)("h3",{children:"Player Name: "}),Object(v.jsx)(K.a,{id:"standard-basic",value:a,onChange:function(e){n(e.target.value)}})]}),Object(v.jsxs)("div",{className:"player-color",children:[Object(v.jsx)("h3",{children:"Select Color: "}),Object(v.jsx)("div",{className:"player-img",children:b.map((function(e,t){return Object(v.jsx)("div",{className:"selected-img ".concat(m&&m.hue===e.hue&&m.playerNum===e.playerNum?"selected":""),onClick:function(){return y(e)},children:Object(v.jsx)(P,{height:50,player:e})},t)}))})]}),g&&Object(v.jsx)("div",{style:{color:"red",fontWeight:600},children:"Please select different color"}),Object(v.jsx)("div",{className:"join-room-btn",children:Object(v.jsx)(M.a,{disabled:!(a.trim()&&m),onClick:function(){L({type:"join",data:{playerName:a,player:m}}).then((function(e){var t=e.status,a=e.data;t?I.push("/board"):(N(!0),h(a),y(void 0))})).catch((function(e){return I.push("/")}))},variant:"contained",color:"primary",children:"Join Room"})})]})})},U=function(){var e=Object(r.useState)(!1),t=Object(o.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(""),s=Object(o.a)(c,2),i=s[0],d=s[1],j=Object(l.f)();return Object(v.jsx)("div",{className:"loginPage",children:Object(v.jsxs)("div",{className:"login",children:[Object(v.jsxs)("div",{className:"login-buttons",children:[Object(v.jsx)(M.a,{className:a?"login-buttons-active":"",variant:"contained",color:"primary",onClick:function(){n(!0)},children:"Join Room"}),Object(v.jsx)(M.a,{variant:"contained",color:"secondary",onClick:function(){n(!1),d(""),L({type:"create-room"}).then((function(){return j.push("/player-info")}))},children:"Create Room"})]}),a&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"login-room-id login-row",children:[Object(v.jsx)("label",{children:"Enter Room Id :"}),Object(v.jsx)(K.a,{id:"standard-number",type:"number",onChange:function(e){return d(e.target.value)},value:i})]}),Object(v.jsx)("div",{className:"login-row",children:Object(v.jsx)(M.a,{disabled:!(""!==i.trim())||!(i>=1),variant:"contained",color:"primary",onClick:function(){L({type:"join-room",data:{roomId:+i}}).then((function(){return j.push("/player-info")}))},children:"Join Game"})})]})]})})},X=function(){return Object(v.jsxs)(l.c,{children:[Object(v.jsx)(l.a,{exact:!0,path:"/board",component:z}),Object(v.jsx)(l.a,{exact:!0,path:"/player-info",component:Q}),Object(v.jsx)(l.a,{exact:!0,path:"/",component:U})]})};var Y=function(){return Object(v.jsx)("div",{children:Object(v.jsx)(i.a,{children:Object(v.jsx)(X,{})})})},Z=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,133)).then((function(t){var a=t.getCLS,r=t.getFID,n=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),r(e),n(e),c(e),s(e)}))};s.a.render(Object(v.jsx)(Y,{}),document.getElementById("root")),Z()}},[[94,1,2]]]);
//# sourceMappingURL=main.7ab166d7.chunk.js.map