(this.webpackJsonpsnake_and_ladder=this.webpackJsonpsnake_and_ladder||[]).push([[0],{43:function(e,t,a){},44:function(e,t,a){},54:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(9),s=a.n(c),i=(a(43),a(44),a(20)),l=a(5),o=a(4),j=a.p+"static/media/gamePlayer.fa360d51.png",u=a(2),d=function(e){for(var t=e.value,a=[],n=0;n<t.length;n++)a.push(Object(u.jsx)("img",{src:j,alt:"player",style:{height:70/Math.ceil(t.length/2),filter:"hue-rotate(".concat(t[n].hue,"deg)")}},n));return Object(u.jsx)("div",{className:"square pure-u-1-6",children:Object(u.jsx)("div",{className:"players",children:a})})},b=function(e){for(var t=e.id,a=e.cellArray,n=[],r=0;r<a.length;r++)n.push(Object(u.jsx)(d,{value:a[r]},r));return Object(u.jsx)("div",{className:t%2===1?"row-reverse":"",children:n})},h=function(e){for(var t=e.table,a=[],n=0;n<t.length;n++)a.push(Object(u.jsx)(b,{cellArray:t[n],id:n},n));return Object(u.jsx)("div",{className:"table",children:Object(u.jsx)("div",{className:"board",children:a})})},p=function(e){var t=e.playerData;return Object(u.jsxs)("div",{className:"player",children:[Object(u.jsx)("img",{src:j,alt:"player",style:{height:35,filter:"hue-rotate(".concat(t.hue,"deg)")}}),Object(u.jsx)("div",{children:t.name})]})},O=function(e){var t=e.header,a=e.players;return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"player-list-header",children:t}),Object(u.jsx)("div",{className:"player-list",children:a.map((function(e,t){return Object(u.jsx)(p,{playerData:e},t)}))})]})},f=a(33),m=a.n(f),v=(a(48),function(e){var t=e.disable,a=e.handleRoll;return Object(u.jsx)(m.a,{numDice:1,rollDone:a,defaultRoll:6,disableIndividual:t})}),x=function(e,t){return new Promise((function(a,n){fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){var t=e.json();403!==e.status?a(t):n(t)}))}))},y=function(e){return new Promise((function(t,a){return fetch(e).then((function(e){var n=e.json();403!==e.status?t(n):a(n)}))}))},g=function(e){switch(e.type){case"create-room":return x("/api/createRoom",{});case"join-room":return x("/api/joinRoom",e.data);case"join":return x("/api/join",e.data);case"start":return x("/api/start",{});case"dice":return x("/api/dice",e.data);case"roomId":return y("/api/roomId");case"player-colors":return y("/api/playerColors");case"board-data":return y("/api/boardData");default:return new Promise((function(e,t){return t()}))}},N=a(72),S=a(75),P=a(76);function C(){return{top:"".concat(30,"%"),left:"".concat(36,"%"),transform:"translate(-".concat(10,"%, -",10,"%)")}}var w=Object(N.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function k(e){var t=e.popup,a=e.handleStart,n=e.isHost,c=w(),s=r.a.useState(C),i=Object(o.a)(s,1)[0],l=Object(u.jsx)("div",{style:i,className:c.paper,children:n?Object(u.jsxs)(u.Fragment,{children:[Object(u.jsx)("h2",{id:"simple-modal-title",children:"Let's start the Game"}),Object(u.jsx)(S.a,{variant:"outlined",color:"primary",onClick:a,children:"Start"})]}):Object(u.jsx)("h2",{id:"simple-modal-title",children:"Waiting for the host to start the Game"})});return Object(u.jsx)(P.a,{open:t,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:l})}var I=function(e){for(var t=[],a=0;a<e;a++){t[a]=[];for(var n=0;n<e;n++)t[a][n]=[]}return t},D=function(){var e=Object(n.useState)(I(10)),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),s=Object(o.a)(c,2),i=s[0],l=s[1],d=Object(n.useState)(!0),b=Object(o.a)(d,2),p=b[0],f=b[1],m=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=Object(n.useState)({}),r=Object(o.a)(a,2),c=r[0],s=r[1];return Object(n.useEffect)((function(){g(e).then(s);var a=setInterval((function(){return g(e).then(s)}),1e3*t);return function(){clearInterval(a)}}),[t]),c}({type:"board-data"},2),x=Object(n.useState)([]),y=Object(o.a)(x,2),N=y[0],S=y[1],P=Object(n.useState)([]),C=Object(o.a)(P,2),w=C[0],D=C[1],R=Object(n.useState)([]),E=Object(o.a)(R,2),F=E[0],T=E[1],_=Object(n.useState)(!1),H=Object(o.a)(_,2),J=H[0],L=H[1],q=Object(n.useState)({}),A=Object(o.a)(q,2),B=A[0],G=A[1];Object(n.useEffect)((function(){G(m)}),[m]),Object(n.useEffect)((function(){if(B.players){l(B.isHost),L(B.turn),f("start"===B.gameStatus);var e=B.players.filter((function(e){return 100!==e.playerPosition})),t=B.players.filter((function(e){return 100===e.playerPosition})),a=B.players.filter((function(e){return 0===e.playerPosition}));T(a),S(e),D(t),M(B.players)}}),[B]);var M=function(e){for(var t=I(10),a=0;a<e.length;a++){var n=("0"+(e[a].playerPosition-1)).slice(-2),c=Object(o.a)(n,2),s=c[0],i=c[1];0!==e[a].playerPosition&&(console.log(s,i,e[a].playerPosition),t[+s][+i].push(e[a]))}r(t)};return Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"board-status",children:"".concat(B.currentPlayer||"player","'s turn")}),Object(u.jsxs)("div",{className:"dash-board",children:[Object(u.jsx)(O,{header:"Participants",players:N}),Object(u.jsxs)("div",{className:"page",children:[Object(u.jsx)("div",{className:"player-wallet",children:Object(u.jsx)("div",{className:"player-wallet-box",children:F.map((function(e,t){return Object(u.jsx)("div",{style:{height:F.length<9?74:280/Math.ceil(F.length/2),width:74},className:"square pure-u-1-6",children:Object(u.jsx)("div",{className:"players",children:Object(u.jsx)("img",{src:j,alt:"player",style:{height:70,filter:"hue-rotate(".concat(e.hue,"deg)")}})})},t)}))})}),Object(u.jsx)(h,{table:a})]}),Object(u.jsx)(O,{header:"Winners",players:w})]}),Object(u.jsx)("div",{className:"dices",children:Object(u.jsxs)("div",{children:[Object(u.jsx)("div",{className:"dice-board",children:B.dice||6}),Object(u.jsx)(v,{handleRoll:function(e){L(!1),g({type:"dice",data:{dice:e}}).then(G)},disable:!J})]})}),Object(u.jsx)(k,{popup:p,handleStart:function(){B.players.length>1&&(f(!1),g({type:"start"}).then(G))},isHost:i})]})},R=function(){var e=Object(n.useState)(""),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(o.a)(c,2),i=s[0],d=s[1],b=Object(n.useState)([]),h=Object(o.a)(b,2),p=h[0],O=h[1],f=Object(n.useState)(void 0),m=Object(o.a)(f,2),v=m[0],x=m[1],y=Object(n.useState)(!1),N=Object(o.a)(y,2),S=N[0],P=N[1],C=Object(l.f)();Object(n.useEffect)((function(){g({type:"roomId"}).then((function(e){return d(e.roomId)})),g({type:"player-colors"}).then(O)}),[]);return Object(u.jsxs)("div",{className:"player-info",children:[Object(u.jsx)("div",{children:i}),Object(u.jsxs)("div",{className:"board-status",children:[Object(u.jsx)("div",{children:"Player Name: "}),Object(u.jsx)("input",{type:"text",value:a,onChange:function(e){r(e.target.value)}})]}),Object(u.jsx)("div",{className:"player-img",children:p.map((function(e,t){return Object(u.jsx)("div",{className:"selected-img ".concat(v===e?"selected":""),onClick:function(){return x(e)},children:Object(u.jsx)("img",{src:j,alt:"player",style:{height:35,filter:"hue-rotate(".concat(e,"deg)")}})},t)}))}),S&&Object(u.jsx)("div",{children:"Please select different color"}),Object(u.jsx)("button",{disabled:!(a.trim()&&v),type:"submit",onClick:function(){g({type:"join",data:{playerName:a,hueValue:v}}).then((function(e){var t=e.status,a=e.data;t?C.push("/board"):(P(!0),O(a))}))},children:"join"})]})},E=function(){var e=Object(n.useState)(!1),t=Object(o.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(o.a)(c,2),i=s[0],j=s[1],d=Object(l.f)();return Object(u.jsxs)("div",{children:[Object(u.jsx)("button",{onClick:function(){r(!0)},children:"join"}),Object(u.jsx)("button",{onClick:function(){r(!1),j(""),g({type:"create-room"}).then((function(){return d.push("/player-info")}))},children:"Create Room"}),a&&Object(u.jsxs)("div",{children:[Object(u.jsx)("input",{type:"text",onChange:function(e){return j(e.target.value)},value:i}),""!==i.trim()&&Object(u.jsx)("button",{onClick:function(){g({type:"join-room",data:{roomId:+i}}).then((function(){return d.push("/player-info")}))},children:"start"})]})]})},F=function(){return Object(u.jsxs)(l.c,{children:[Object(u.jsx)(l.a,{exact:!0,path:"/board",component:D}),Object(u.jsx)(l.a,{exact:!0,path:"/player-info",component:R}),Object(u.jsx)(l.a,{exact:!0,path:"/",component:E})]})};var T=function(){return Object(u.jsx)("div",{children:Object(u.jsx)(i.a,{children:Object(u.jsx)(F,{})})})},_=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,78)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};s.a.render(Object(u.jsx)(T,{}),document.getElementById("root")),_()}},[[54,1,2]]]);
//# sourceMappingURL=main.39da0142.chunk.js.map