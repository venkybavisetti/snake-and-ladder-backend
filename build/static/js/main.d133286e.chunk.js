(this.webpackJsonpsnake_and_ladder=this.webpackJsonpsnake_and_ladder||[]).push([[0],{86:function(e,t,a){},87:function(e,t,a){},98:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),c=a(11),s=a.n(c),i=(a(86),a(87),a(28)),o=a(13),l=a(10),d=a(30),j=a(142),u=a.p+"static/media/blue-player.de8eb60e.png",b=a.p+"static/media/green-player.6a26f254.png",h=a.p+"static/media/pink-player.fa360d51.png",p=a.p+"static/media/red-player.077d7622.png",O=a.p+"static/media/yellow-player.17512bfc.png",m=a(130),f=a(71),y=a.n(f),v=a(2),x=Object(m.a)((function(e){return{arrow:{color:e.palette.common.black},tooltip:{backgroundColor:e.palette.common.black}}}));function g(e){var t=x();return Object(v.jsx)(j.a,Object(d.a)(Object(d.a)({arrow:!0,classes:t},e),{},{className:"pointer"}))}var N={1:u,2:b,3:h,4:p,5:O},P=r.a.forwardRef((function(e,t){var a=e.height,n=e.player,r=n.playerNum,c=n.hue,s=e.isCurrentPlayer;return Object(v.jsxs)("span",{style:{display:"flex",justifyContent:"center"},children:[s&&Object(v.jsx)(y.a,{className:"fa"}),Object(v.jsx)("img",Object(d.a)(Object(d.a)({ref:t},e),{},{src:N[r],alt:"player",style:{height:a,filter:"hue-rotate(".concat(c,"deg)")}}))]})})),C=function(e){for(var t=e.value,a=e.currentPlayerId,n=[],r=0;r<t.length;r++)n.push(Object(v.jsx)(g,{title:t[r].name,placement:"top",arrow:!0,children:Object(v.jsx)(P,{height:70/Math.ceil(t.length/2),player:t[r].player,isCurrentPlayer:a===t[r].playerId})},r));return Object(v.jsx)("div",{className:"square pure-u-1-6",children:Object(v.jsx)("div",{className:"players",children:n})})},I=function(e){for(var t=e.id,a=e.cellArray,n=e.currentPlayerId,r=[],c=0;c<a.length;c++)r.push(Object(v.jsx)(C,{value:a[c],currentPlayerId:n},c));return Object(v.jsx)("div",{className:t%2===1?"row-reverse":"",children:r})},S=function(e){for(var t=e.table,a=e.currentPlayerId,n=[],r=0;r<t.length;r++)n.push(Object(v.jsx)(I,{cellArray:t[r],id:r,currentPlayerId:a},r));return Object(v.jsx)("div",{className:"table",children:Object(v.jsx)("div",{className:"board",children:n})})},w=a(73),k=a.n(w),H=a(72),R=a.n(H),E=function(e){var t=e.playerData,a=e.currentPlayer,r=e.isHost,c=e.hostId,s=e.handlePlayerRemove,i=e.handleChangeHost,o=Object(n.useState)(!1),d=Object(l.a)(o,2),j=d[0],u=d[1];return Object(v.jsxs)("div",{className:"player ".concat(t.playerId===a?"activePlayer":""," ").concat(r&&c!==t.playerId&&j?"player-hover":""),onMouseEnter:function(){return u(!0)},onMouseLeave:function(){return u(!1)},children:[r&&j&&c!==t.playerId&&Object(v.jsxs)("div",{className:"host-controls",children:[Object(v.jsx)(g,{title:"Change Host",placement:"top",arrow:!0,children:Object(v.jsx)(R.a,{className:"change-host",onClick:function(){return i(t.playerId)}})}),Object(v.jsx)(g,{title:"Remove Player",placement:"top",arrow:!0,children:Object(v.jsx)(k.a,{className:"remove-player",onClick:function(){return s(t.playerId)}})})]}),Object(v.jsx)(P,{height:35,player:t.player}),Object(v.jsx)("div",{children:t.name})]})},D=function(e){var t=e.header,a=e.players,n=e.currentPlayer,r=e.isHost,c=e.hostId,s=e.handlePlayerRemove,i=e.handleChangeHost;return Object(v.jsxs)("div",{className:"player-list-container",children:[Object(v.jsx)("h3",{children:t}),a.map((function(e,t){return Object(v.jsx)(E,{playerData:e,currentPlayer:n,isHost:r,hostId:c,handlePlayerRemove:s,handleChangeHost:i},t)}))]})},F=a(74),G=a.n(F),J=(a(95),function(e){var t=e.diceValue,a=e.disable,r=e.handleRoll,c=Object(n.useState)(!0),s=Object(l.a)(c,2),i=s[0],o=s[1];return Object(n.useEffect)((function(){o(a)}),[a]),Object(v.jsxs)("div",{className:"dices",children:[Object(v.jsx)("div",{className:"dice-board",children:t}),Object(v.jsx)("div",{className:a?"disable-dice":"active-dice",onClick:function(){return o(!0)},children:Object(v.jsx)(G.a,{numDice:1,rollDone:r,defaultRoll:6,disableIndividual:i,rollTime:1.5})})]})}),T=function(e,t){return new Promise((function(a,n){fetch(e,{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify(t)}).then((function(e){var t=e.json();403!==e.status?a(t):n(t)}))}))},A=function(e){return new Promise((function(t,a){return fetch(e).then((function(e){var n=e.json();403!==e.status?t(n):a(n)}))}))},L=function(e){switch(e.type){case"create-room":return T("/api/createRoom",{});case"join-room":return T("/api/joinRoom",e.data);case"join":return T("/api/join",e.data);case"start":return T("/api/start",{});case"dice":return T("/api/dice",e.data);case"change-host":return T("/api/changeHost",e.data);case"remove-player":return T("/api/removePlayer",e.data);case"roomId":return A("/api/roomId");case"player-colors":return A("/api/playerColors");case"board-data":return A("/api/boardData");default:return new Promise((function(e,t){return t()}))}},M=a(135),_=a(139);function W(){return{top:"".concat(30,"%"),left:"".concat(36,"%"),transform:"translate(-".concat(10,"%, -",10,"%)")}}var q=Object(m.a)((function(e){return{paper:{position:"absolute",width:400,backgroundColor:e.palette.background.paper,border:"2px solid #000",boxShadow:e.shadows[5],padding:e.spacing(2,4,3)}}}));function B(e){var t=e.popup,a=e.handleStart,n=e.isHost,c=e.isGameCompleted,s=q(),i=r.a.useState(W),d=Object(l.a)(i,1)[0],j=Object(o.f)(),u=Object(v.jsx)("div",{style:d,className:s.paper,children:c?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h2",{id:"simple-modal-title",children:"Play Another Game"}),Object(v.jsx)(M.a,{variant:"outlined",color:"primary",onClick:function(){j.push("/")},children:"Play"})]}):n?Object(v.jsxs)(v.Fragment,{children:[Object(v.jsx)("h2",{id:"simple-modal-title",children:"Let's start the Game"}),Object(v.jsx)(M.a,{variant:"outlined",color:"primary",onClick:a,children:"Start"})]}):Object(v.jsx)("h2",{id:"simple-modal-title",children:"Waiting for the host to start the Game"})});return Object(v.jsx)(_.a,{open:t||c,"aria-labelledby":"simple-modal-title","aria-describedby":"simple-modal-description",children:u})}var V=a(141),z=a(138);function K(e){return Object(v.jsx)(z.a,Object(d.a)({elevation:6,variant:"filled"},e))}function Q(e){var t=e.notification,a=function(e,t){};return Object(v.jsx)(V.a,{anchorOrigin:{vertical:"top",horizontal:"right"},autoHideDuration:6e3,onClose:a,open:t,message:"I love snacks",children:Object(v.jsx)(K,{onClose:a,severity:t.severity,children:t.message})})}var U=function(e){for(var t=[],a=0;a<e;a++){t[a]=[];for(var n=0;n<e;n++)t[a][n]=[]}return t},X=function(){var e=Object(n.useState)(U(10)),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(!1),s=Object(l.a)(c,2),i=s[0],d=s[1],j=Object(n.useState)(!0),u=Object(l.a)(j,2),b=u[0],h=u[1],p=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,a=Object(n.useState)({}),r=Object(l.a)(a,2),c=r[0],s=r[1],i=Object(o.f)();return Object(n.useEffect)((function(){L(e).then(s).catch((function(){return i.push("/")}));var a=setInterval((function(){return L(e).then(s)}),1e3*t);return function(){clearInterval(a)}}),[t]),c}({type:"board-data"},4),O=Object(n.useState)([]),m=Object(l.a)(O,2),f=m[0],y=m[1],x=Object(n.useState)([]),N=Object(l.a)(x,2),C=N[0],I=N[1],w=Object(n.useState)([]),k=Object(l.a)(w,2),H=k[0],R=k[1],E=Object(n.useState)(!1),F=Object(l.a)(E,2),G=F[0],T=F[1],A=Object(n.useState)({}),M=Object(l.a)(A,2),_=M[0],W=M[1],q=Object(n.useState)({}),V=Object(l.a)(q,2),z=V[0],K=V[1];Object(n.useEffect)((function(){W(p)}),[p]),Object(n.useEffect)((function(){if(_.players){T(_.turn),d(_.isHost),h("start"===_.gameStatus);var e=_.players.filter((function(e){return 100!==e.playerPosition})),t=_.winners.map((function(e){return _.players[e]})),a=_.players.filter((function(e){return 0===e.playerPosition}));R(a),y(e),K(_.currentPlayer.playerId),I(t),setTimeout((function(){X(_.players)}),1e3)}}),[_]);var X=function(e){for(var t=U(10),a=0;a<e.length;a++){var n=("0"+(e[a].playerPosition-1)).slice(-2),c=Object(l.a)(n,2),s=c[0],i=c[1];0!==e[a].playerPosition&&t[+s][+i].push(e[a])}r(t)},Y=function(e){T(!1),d(!1),L({type:"remove-player",data:{removePlayerId:e}}).then(W)},Z=function(e){T(!1),d(!1),console.log(e),L({type:"change-host",data:{changeHost:e}}).then(W)};return Object(v.jsxs)("div",{className:"board-page",children:[_.notification&&Object(v.jsx)(Q,{notification:_.notification}),Object(v.jsxs)("div",{className:"board-page-status",children:[_.currentPlayer&&_.currentPlayer.name||"player",Object(v.jsx)("span",{children:"'s turn"})]}),Object(v.jsxs)("div",{className:"dash-board",children:[Object(v.jsx)(D,{header:"Participants",players:f,currentPlayer:z,isHost:i,hostId:_.hostId,handlePlayerRemove:Y,handleChangeHost:Z}),Object(v.jsxs)("div",{className:"page",children:[Object(v.jsx)("div",{className:"player-wallet",children:Object(v.jsx)("div",{className:"player-wallet-box",children:H.map((function(e,t){return Object(v.jsx)("div",{style:{height:H.length<9?74:280/Math.ceil(H.length/2),width:74},className:"square pure-u-1-6",children:Object(v.jsx)("div",{className:"players",children:Object(v.jsx)(g,{title:e.name,placement:"top",arrow:!0,children:Object(v.jsx)(P,{height:70,player:e.player,isCurrentPlayer:z===e.playerId})})})},t)}))})}),Object(v.jsx)(S,{table:a,currentPlayerId:z})]}),Object(v.jsx)(D,{header:"Winners",players:C,isHost:i,hostId:_.hostId,handlePlayerRemove:Y,handleChangeHost:Z})]}),Object(v.jsx)(J,{diceValue:_.dice||6,handleRoll:function(e){T(!1),L({type:"dice",data:{dice:e}}).then(W)},disable:!G}),Object(v.jsx)(B,{popup:b,handleStart:function(){_.players.length>1&&(h(!1),L({type:"start"}).then(W))},isHost:i,isGameCompleted:"completed"===_.gameStatus})]})},Y=a(137),Z=function(){var e=Object(n.useState)(""),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(l.a)(c,2),i=s[0],d=s[1],j=Object(n.useState)([]),u=Object(l.a)(j,2),b=u[0],h=u[1],p=Object(n.useState)(void 0),O=Object(l.a)(p,2),m=O[0],f=O[1],y=Object(n.useState)(!1),x=Object(l.a)(y,2),g=x[0],N=x[1],C=Object(o.f)();Object(n.useEffect)((function(){L({type:"roomId"}).then((function(e){return d(e.roomId)})),L({type:"player-colors"}).then(h)}),[]);return Object(v.jsx)("div",{className:"loginPage",children:Object(v.jsxs)("div",{className:"player-info",children:[Object(v.jsxs)("h1",{style:{textAlign:"center"},children:["Room Id:",i]}),Object(v.jsxs)("div",{className:"board-status",children:[Object(v.jsx)("h3",{children:"Player Name: "}),Object(v.jsx)(Y.a,{id:"standard-basic",value:a,onChange:function(e){r(e.target.value)}})]}),Object(v.jsxs)("div",{className:"player-color",children:[Object(v.jsx)("h3",{children:"Select Color: "}),Object(v.jsx)("div",{className:"player-img",children:b.map((function(e,t){return Object(v.jsx)("div",{className:"selected-img ".concat(m&&m.hue===e.hue&&m.playerNum===e.playerNum?"selected":""),onClick:function(){return f(e)},children:Object(v.jsx)(P,{height:50,player:e})},t)}))})]}),g&&Object(v.jsx)("div",{style:{color:"red",fontWeight:600},children:"Please select different color"}),Object(v.jsx)("div",{className:"join-room-btn",children:Object(v.jsx)(M.a,{disabled:!(a.trim()&&m),onClick:function(){L({type:"join",data:{playerName:a,player:m}}).then((function(e){var t=e.status,a=e.data;t?C.push("/board"):(N(!0),h(a),f(void 0))})).catch((function(e){return C.push("/")}))},variant:"contained",color:"primary",children:"Join Room"})})]})})},$=function(){var e=Object(n.useState)(!1),t=Object(l.a)(e,2),a=t[0],r=t[1],c=Object(n.useState)(""),s=Object(l.a)(c,2),i=s[0],d=s[1],j=Object(o.f)();return Object(v.jsx)("div",{className:"loginPage",children:Object(v.jsxs)("div",{className:"login",children:[Object(v.jsxs)("div",{className:"login-buttons",children:[Object(v.jsx)(M.a,{className:a?"login-buttons-active":"",variant:"contained",color:"primary",onClick:function(){r(!0)},children:"Join Room"}),Object(v.jsx)(M.a,{variant:"contained",color:"secondary",onClick:function(){r(!1),d(""),L({type:"create-room"}).then((function(){return j.push("/player-info")}))},children:"Create Room"})]}),a&&Object(v.jsxs)(v.Fragment,{children:[Object(v.jsxs)("div",{className:"login-room-id login-row",children:[Object(v.jsx)("label",{children:"Enter Room Id :"}),Object(v.jsx)(Y.a,{id:"standard-number",type:"number",onChange:function(e){return d(e.target.value)},value:i})]}),Object(v.jsx)("div",{className:"login-row",children:Object(v.jsx)(M.a,{disabled:!(""!==i.trim())||!(i>=1),variant:"contained",color:"primary",onClick:function(){L({type:"join-room",data:{roomId:+i}}).then((function(){return j.push("/player-info")}))},children:"Join Game"})})]})]})})},ee=function(){return Object(v.jsxs)(o.c,{children:[Object(v.jsx)(o.a,{exact:!0,path:"/board",component:X}),Object(v.jsx)(o.a,{exact:!0,path:"/player-info",component:Z}),Object(v.jsx)(o.a,{exact:!0,path:"/",component:$})]})};var te=function(){return Object(v.jsx)("div",{children:Object(v.jsx)(i.a,{children:Object(v.jsx)(ee,{})})})},ae=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,143)).then((function(t){var a=t.getCLS,n=t.getFID,r=t.getFCP,c=t.getLCP,s=t.getTTFB;a(e),n(e),r(e),c(e),s(e)}))};s.a.render(Object(v.jsx)(te,{}),document.getElementById("root")),ae()}},[[98,1,2]]]);
//# sourceMappingURL=main.d133286e.chunk.js.map